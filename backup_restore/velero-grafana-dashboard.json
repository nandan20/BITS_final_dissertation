{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "type": "dashboard",
        "name": "Annotations & Alerts",
        "enabled": true
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "iteration": 1620000000000,
  "panels": [
    {
      "type": "stat",
      "title": "Total Backups",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_backup_total)", "legendFormat": "Total" }
      ],
      "gridPos": { "x": 0, "y": 0, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Failed Backups",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_backup_failure_total)", "legendFormat": "Failed" }
      ],
      "gridPos": { "x": 6, "y": 0, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Total Restores",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_restore_total)", "legendFormat": "Total" }
      ],
      "gridPos": { "x": 0, "y": 4, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Failed Restores",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_restore_failure_total)", "legendFormat": "Failed" }
      ],
      "gridPos": { "x": 6, "y": 4, "w": 6, "h": 4 }
    },
    {
      "type": "graph",
      "title": "Backup Duration (seconds)",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "avg(velero_backup_duration_seconds)", "legendFormat": "Duration" }
      ],
      "gridPos": { "x": 0, "y": 8, "w": 12, "h": 6 }
    },
    {
      "type": "graph",
      "title": "Restore Duration (seconds)",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "avg(velero_restore_duration_seconds)", "legendFormat": "Duration" }
      ],
      "gridPos": { "x": 0, "y": 14, "w": 12, "h": 6 }
    },
    {
      "type": "stat",
      "title": "Last Successful Backup",
      "datasource": "Prometheus",
      "targets": [
  { "expr": "max(velero_backup_last_successful_timestamp) * 1000", "legendFormat": "Last Success" }
      ],
      "gridPos": { "x": 0, "y": 20, "w": 6, "h": 4 },
  "unit": "dateTime"
    },
    {
      "type": "stat",
      "title": "Last Successful Restore",
      "datasource": "Prometheus",
      "targets": [
  { "expr": "max(velero_restore_last_successful_timestamp) * 1000", "legendFormat": "Last Success" }
      ],
      "gridPos": { "x": 6, "y": 20, "w": 6, "h": 4 },
  "unit": "dateTime"
    }
    ,
    {
      "type": "stat",
      "title": "Backup Attempts",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_backup_attempt_total)", "legendFormat": "Attempts" }
      ],
      "gridPos": { "x": 0, "y": 24, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Restore Attempts",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_restore_attempt_total)", "legendFormat": "Attempts" }
      ],
      "gridPos": { "x": 6, "y": 24, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Partial Backup Failures",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_backup_partial_failure_total)", "legendFormat": "Partial Failures" }
      ],
      "gridPos": { "x": 0, "y": 28, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Partial Restore Failures",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_restore_partial_failure_total)", "legendFormat": "Partial Failures" }
      ],
      "gridPos": { "x": 6, "y": 28, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Backup Validation Errors",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_backup_validation_errors_total)", "legendFormat": "Validation Errors" }
      ],
      "gridPos": { "x": 0, "y": 32, "w": 6, "h": 4 }
    },
    {
      "type": "stat",
      "title": "Restore Validation Errors",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "sum(velero_restore_validation_errors_total)", "legendFormat": "Validation Errors" }
      ],
      "gridPos": { "x": 6, "y": 32, "w": 6, "h": 4 }
    },
    {
      "type": "timeseries",
      "title": "Backups Over Time",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "increase(velero_backup_total[1d])", "legendFormat": "Backups" }
      ],
      "gridPos": { "x": 0, "y": 36, "w": 12, "h": 6 }
    },
    {
      "type": "timeseries",
      "title": "Restores Over Time",
      "datasource": "Prometheus",
      "targets": [
        { "expr": "increase(velero_restore_total[1d])", "legendFormat": "Restores" }
      ],
      "gridPos": { "x": 0, "y": 42, "w": 12, "h": 6 }
    }
  ],
  "schemaVersion": 30,
  "style": "dark",
  "tags": ["velero", "backup", "restore"],
  "templating": { "list": [] },
  "time": { "from": "now-24h", "to": "now" },
  "timepicker": {},
  "timezone": "browser",
  "title": "Velero Backup & Restore Overview",
  "uid": "velero-backup-restore",
  "version": 1
}
